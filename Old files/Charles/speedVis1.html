<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <style type="text/css">
        body {
            font: 10px sans-serif;
        }
        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }
        /*.x.axis path {
            display: none;
        }*/
        .line {
            fill: none;
            stroke: steelblue;
            stroke-width: 1.5px;
        }
    </style>
</head>
<!--onload="JavaScript:timedRefresh(100000);"-->
<body>
<!--*****Include d3.js / d3plus.js / jQuery*****-->
<script src="http://www.d3plus.org/js/d3.js"></script>
<script src="http://www.d3plus.org/js/d3plus.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="test.js"></script>
<script>
    var delta = [10, 20, 30];
//    var x1 = 1, y1 = 5,
//        x2 = 25, y2 = 15,
//        x3 = 40, y3 = 10;
    var width = $("body").width();
    var height = $("body").height();
    console.log("$$$ " + width + " " + height);
    var pos = [{"x":100,"y":20}, {"x":200,"y":20},{"x":300,"y":20}];
    pos[0].x = width / 6; pos[1].x = width / 3; pos[2].x = width / 2;

    var temp = new test();
    temp.structure("speed")
            .data(pos)
            .location("body")
            .visualize();

    //SetInterval will run the code inside every 4 seconds.
    setInterval(function(){
        //x = Math.random() * 200 - 1;
        for ( i = 0; i < pos.length; i++) {
            //index = Math.random() * 2;
            pos[i].y += delta[i];

        }

        console.log(" size of data: " + pos.length + " content: " + pos[0].y + " " + pos[1].y + " " + pos[2].y);

        temp.update(pos);

    }, 2000);
    /*
     function timedRefresh(timeoutPeriod) {
     setTimeout("location.reload(true);",timeoutPeriod);
     }
     */
</script>

</body>
</HTML>